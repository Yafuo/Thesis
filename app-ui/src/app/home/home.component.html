<div class="wrap-tools row mr-0">

  <mat-form-field class="pl-4 col-8">
    <input matInput type="text" placeholder="Search ..." [formControl]="allSearch" [matAutocomplete]="all">
    <mat-icon class="search-fn" matSuffix>search</mat-icon>
    <mat-autocomplete autoActiveFirstOption #all="matAutocomplete">
      <mat-option *ngFor="let d of filterAllSearchList | async" [value]="d">
        {{d}}
      </mat-option>
    </mat-autocomplete>
  </mat-form-field>
  <span class="col-4 text-center pt-2 p-0">
    <button class="filter-btn" mat-stroked-button color="primary" (click)="toggleFilter()"><mat-icon matPrefix>filter_list</mat-icon> Filter</button>
  </span>

</div>
<div *ngIf="isShowResult && !isFilterClicked" class="wrap-result row align-items-center">
  <div class="col-4">
  </div>
  <div class="col-4">
    <fa-icon *ngIf="isAvailable" [icon]="faCheckCircle" [styles]="{'color': 'green'}"></fa-icon>
    <fa-icon *ngIf="!isAvailable" [icon]="faTimesCircle" [styles]="{'color': 'red'}"></fa-icon>
    <span class="text-success">{{isAvailable ? 'Available' : 'Not Available'}}</span>
  </div>
  <owl-date-time pickerType="timer" #ultiTime></owl-date-time>
  <div class="col-4">
    <button (click)="_book()" class="btn btn-sm btn-primary">Booking</button>
  </div>
</div>
<div *ngIf="qrUrl" class="wrap-qr-code overflow-auto">
  <img src="{{qrUrl}}" style="width: 50vw">
</div>
<div class="wrap-filter hide-this-{{!isFilterClicked}}">
  <div class="abc row mr-0">
    <mat-form-field class="pl-4 col-8">
      <mat-icon [inline]="true" class="search-fn" matPrefix>location_searching</mat-icon>
      <input matInput type="text" placeholder=" Choose destination" [formControl]="parkingStationControl" [matAutocomplete]="destination">
      <mat-autocomplete autoActiveFirstOption #destination="matAutocomplete">
        <mat-option *ngFor="let add of filterparkingStationList | async" [value]="add">
          <span style="font-size: 14px">{{add}}</span>
        </mat-option>
      </mat-autocomplete>
    </mat-form-field>
  </div>
  <div class="abc row mr-0">
    <mat-form-field class="pl-4 col-8">
      <mat-icon [inline]="true" class="search-fn" matPrefix>location_on</mat-icon>
      <input matInput type="text" placeholder=" Choose start location" [formControl]="userLocationControl"
             [matAutocomplete]="startLocation">
      <mat-autocomplete autoActiveFirstOption #startLocation="matAutocomplete">
        <mat-option *ngFor="let add of filterUserLocationList | async" [value]="add">
          <span style="font-size: 14px">{{add}}</span>
        </mat-option>
      </mat-autocomplete>
    </mat-form-field>
    <div class="pl-0 col-4 d-flex align-items-center">
      <mat-checkbox style="font-size: small" [(ngModel)]="isCurrentLocationChecked">Your location</mat-checkbox>
    </div>
  </div>
  <mat-accordion [hideToggle]="true">
    <mat-expansion-panel class="abc m-2" (opened)="display('up')" (closed)="display('down')">
      <mat-expansion-panel-header style="font-size: 14px" class="row">
        <mat-panel-title class="col-2 col-sm-2 p-0">
          Package
        </mat-panel-title>
        <mat-panel-description class="col-8 col-sm-8 p-0 mr-0">
          <span>Helps us to find available slot</span>
        </mat-panel-description>
        <mat-panel-description class="col-2 col-sm-2 p-0">
          <div class=" indicator{{'-'+ state}}">
            <mat-icon>keyboard_arrow_down</mat-icon>
          </div>
        </mat-panel-description>
      </mat-expansion-panel-header>
      <div class="row">
        <ul class="col-12 col-sm-6 pr-0 list-group">
          <li class="list-group-item" (click)="onSelect(p)" *ngFor="let p of packageList">{{p.name}}</li>
        </ul>
      </div>
    </mat-expansion-panel>
  </mat-accordion>
  <div class="abc time-picker row mt-3 ml-0 mr-0">
    <mat-form-field class="col-6 start-time">
      <input [owlDateTime]="startTime" [owlDateTimeTrigger]="startTime" matInput placeholder="Start time"
             [(ngModel)]="leaveHomeTime">
    </mat-form-field>
    <owl-date-time pickerType="timer" #startTime></owl-date-time>

    <mat-form-field class="col-6 ready-park-time">
      <input [owlDateTime]="readyParkTime" [owlDateTimeTrigger]="readyParkTime" matInput placeholder="Estimate park time"
             [(ngModel)]="arriveTime">
    </mat-form-field>
    <owl-date-time pickerType="timer" #readyParkTime></owl-date-time>
  </div>
  <div class="abc row">
    <div class="col-6"></div>
    <div class="col-6 text-center">
      <button [disabled]="!parkingStationControl.value || !userLocationControl.value || !selectedPackage.name" (click)="filter()" class="btn btn-sm btn-warning">{{'Done'}}</button>
    </div>
  </div>
</div>
<div *ngIf="isStake" class="wrap-feature-btn row">
  <div class="col-12 col-md-6 text-center" style="padding: 0 40px">
    <button class="btn btn-sm btn-primary w-100">{{'Park'}}</button>
  </div>
</div>
